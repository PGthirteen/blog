(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{626:function(v,e,_){"use strict";_.r(e);var t=_(0),s=Object(t.a)({},(function(){var v=this,e=v._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"服务端渲染ssr的理解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务端渲染ssr的理解"}},[v._v("#")]),v._v(" 服务端渲染SSR的理解")]),v._v(" "),e("p",[e("code",[v._v("SSR")]),v._v("服务端渲染"),e("code",[v._v("Server Side Render")]),v._v("就是当进行请求时，页面上的内容是通过服务端渲染生成的，浏览器直接显示服务端返回的"),e("code",[v._v("HTML")]),v._v("即可。")]),v._v(" "),e("h2",{attrs:{id:"客户端渲染csr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#客户端渲染csr"}},[v._v("#")]),v._v(" 客户端渲染CSR")]),v._v(" "),e("p",[v._v("通常在构建一个普通的"),e("code",[v._v("SPA")]),v._v("单页应用时，就是构建的客户端渲染的应用，"),e("code",[v._v("CSR")]),v._v("客户端渲染"),e("code",[v._v("Client Side Render")]),v._v("就是当进行请求时，页面上的内容是通过加载的"),e("code",[v._v("Js")]),v._v("文件渲染出来的，"),e("code",[v._v("Js")]),v._v("文件动态运行在浏览器上面，服务端只返回一个"),e("code",[v._v("HTML")]),v._v("模板。")]),v._v(" "),e("h3",{attrs:{id:"优点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[v._v("#")]),v._v(" 优点")]),v._v(" "),e("ul",[e("li",[v._v("使得服务器计算压力变轻。")]),v._v(" "),e("li",[v._v("做到了前后端分离，在团队开发中只要负责各自的任务即可，使开发效率有明显提升。")])]),v._v(" "),e("h3",{attrs:{id:"缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[v._v("#")]),v._v(" 缺点")]),v._v(" "),e("ul",[e("li",[v._v("不利于"),e("code",[v._v("SEO")]),v._v("、搜索引擎爬虫无法完整解析用户页面。")]),v._v(" "),e("li",[v._v("请求增多时用户等待时间变长，导致首屏渲染慢。")]),v._v(" "),e("li",[v._v("消耗的是用户浏览器的性能。")])]),v._v(" "),e("h2",{attrs:{id:"服务端渲染ssr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务端渲染ssr"}},[v._v("#")]),v._v(" 服务端渲染SSR")]),v._v(" "),e("p",[e("code",[v._v("SSR")]),v._v("服务端渲染"),e("code",[v._v("Server Side Render")]),v._v("就是当进行请求时，页面上的内容是通过服务端渲染生成的，浏览器直接显示服务端返回的"),e("code",[v._v("HTML")]),v._v("即可。对于传统服务端渲染，也称为后端模板渲染，如"),e("code",[v._v("jsp")]),v._v("或者"),e("code",[v._v("php")]),v._v("等，这是最早时期的"),e("code",[v._v("web")]),v._v("，是指客户端请求时，在服务器上使用模板引擎将模板与数据拼接成完整的"),e("code",[v._v("HTML")]),v._v("，再发送给客户端，客户端接收后直接解析"),e("code",[v._v("HTML")]),v._v("就可以在浏览器上展示出来，不需要额外的异步请求获取数据，如果要使"),e("code",[v._v("web")]),v._v("有交互性，客户端需要再用"),e("code",[v._v("Js")]),v._v("去操作"),e("code",[v._v("DOM")]),v._v("或者渲染其他动态的部分。")]),v._v(" "),e("h3",{attrs:{id:"优点-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点-2"}},[v._v("#")]),v._v(" 优点")]),v._v(" "),e("ul",[e("li",[v._v("更好的"),e("code",[v._v("SEO")]),v._v("，由于搜索引擎爬虫抓取工具可以直接查看完全渲染的页面，如果"),e("code",[v._v("SEO")]),v._v("对站点至关重要，而页面又是异步获取内容，则可能需要服务器端渲染"),e("code",[v._v("SSR")]),v._v("解决此问题。")]),v._v(" "),e("li",[v._v("更快的内容到达时间"),e("code",[v._v("time-to-content")]),v._v("，特别是对于缓慢的网络情况或运行缓慢的设备，无需等待所有的"),e("code",[v._v("JavaScript")]),v._v("都完成下载并执行，用户将会更快速地看到完整渲染的页面，通常可以产生更好的用户体验，并且对于那些内容到达时间"),e("code",[v._v("time-to-content")]),v._v("与转化率直接相关的应用程序而言，服务器端渲染"),e("code",[v._v("SSR")]),v._v("至关重要。")])]),v._v(" "),e("h3",{attrs:{id:"缺点-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缺点-2"}},[v._v("#")]),v._v(" 缺点")]),v._v(" "),e("ul",[e("li",[v._v("开发条件所限，浏览器特定的代码，只能在某些生命周期钩子函数"),e("code",[v._v("lifecycle hook")]),v._v("中使用，一些外部扩展库"),e("code",[v._v("external library")]),v._v("可能需要特殊处理，才能在服务器渲染应用程序中运行。")]),v._v(" "),e("li",[v._v("涉及构建设置和部署的更多要求，与可以部署在任何静态文件服务器上的完全静态单页面应用程序"),e("code",[v._v("SPA")]),v._v("不同，服务器渲染应用程序，通常需要处于"),e("code",[v._v("Node.js server")]),v._v("运行环境。")]),v._v(" "),e("li",[v._v("更大的服务器端负载，在"),e("code",[v._v("Node.js")]),v._v("中渲染完整的应用程序，显然会比仅仅提供静态文件的"),e("code",[v._v("server")]),v._v("更加大量占用"),e("code",[v._v("CPU")]),v._v("资源"),e("code",[v._v("CPU-intensive")]),v._v("-"),e("code",[v._v("CPU")]),v._v("密集型，因此如果预料在高流量环境"),e("code",[v._v("high traffic")]),v._v("下使用，需要准备相应的服务器负载，并明智地采用缓存策略。")])]),v._v(" "),e("h2",{attrs:{id:"预渲染prerendering"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#预渲染prerendering"}},[v._v("#")]),v._v(" 预渲染Prerendering")]),v._v(" "),e("p",[v._v("如果使用服务器端渲染"),e("code",[v._v("SSR")]),v._v("只是用来改善少数营销页面，例如"),e("code",[v._v("/")]),v._v("、"),e("code",[v._v("/about")]),v._v("、"),e("code",[v._v("/contact")]),v._v("等的"),e("code",[v._v("SEO")]),v._v("，那么你可能需要预渲染，无需使用"),e("code",[v._v("web")]),v._v("服务器实时动态编译"),e("code",[v._v("HTML")]),v._v("，而是使用预渲染方式，在构建时"),e("code",[v._v("build time")]),v._v("简单地生成针对特定路由的静态"),e("code",[v._v("HTML")]),v._v("文件。如果使用"),e("code",[v._v("webpack")]),v._v("，则可以使用"),e("code",[v._v("prerender-spa-plugin")]),v._v("轻松地添加预渲染。")]),v._v(" "),e("h3",{attrs:{id:"优点-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点-3"}},[v._v("#")]),v._v(" 优点")]),v._v(" "),e("ul",[e("li",[v._v("设置预渲染更简单，并可以将前端应用作为一个完全静态的站点。")])]),v._v(" "),e("h3",{attrs:{id:"缺点-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缺点-3"}},[v._v("#")]),v._v(" 缺点")]),v._v(" "),e("ul",[e("li",[v._v("只适合对于特定静态页面而应用。")])]),v._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[v._v("#")]),v._v(" 总结")]),v._v(" "),e("p",[v._v("本质上对于渲染都是一样的，都是进行的字符串拼接生成"),e("code",[v._v("HTML")]),v._v(",两者的差别最终体现在时间消耗以及性能消耗上。客户端在不同网络环境下进行数据请求，客户端需要经历从"),e("code",[v._v("Js")]),v._v("加载完成到数据请求再到页面渲染这个时间段，导致了大量时间的消耗以及浏览器性能的消耗。而服务端在内网请求，数据响应快，不需要等待"),e("code",[v._v("Js")]),v._v("代码加载，可以先请求数据再渲染可视部分然后返回给客户端，客户端再做二次渲染,这样大部分消耗的是服务端的性能，客户端页面响应时间也更快。"),e("br"),v._v(" "),e("code",[v._v("SSR")]),v._v("服务端渲染主要解决的是首屏渲染和"),e("code",[v._v("SEO")]),v._v("优化，是否需要"),e("code",[v._v("SSR")]),v._v("服务端渲染主要取决于"),e("code",[v._v("SEO")]),v._v("对于网站是否非常重要以及内容到达时间"),e("code",[v._v("time-to-content")]),v._v("对应用程序的重要程度。例如，如果你正在构建一个内部仪表盘，初始加载时的额外几百毫秒并不重要，这种情况下去使用服务器端渲染"),e("code",[v._v("SSR")]),v._v("将是一个小题大作之举。然而如果大量的访问流量来自于搜索引擎的抓取，那么服务端渲染"),e("code",[v._v("SSR")]),v._v("将是势在必行的解决方案，或者内容到达时间"),e("code",[v._v("time-to-content")]),v._v("要求是绝对关键的指标，在这种情况下服务器端渲染"),e("code",[v._v("SSR")]),v._v("可以帮助你实现最佳的初始加载性能。总而言之，开发需要根据实际场景寻找解决方案。")]),v._v(" "),e("h2",{attrs:{id:"每日一题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#每日一题"}},[v._v("#")]),v._v(" 每日一题")]),v._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[v._v("https://github.com/WindrunnerMax/EveryDay\n")])]),v._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[v._v("1")]),e("br")])]),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[v._v("#")]),v._v(" 参考")]),v._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[v._v("https://ssr.vuejs.org/zh/\nhttps://zhuanlan.zhihu.com/p/90746589\nhttps://www.jianshu.com/p/10b6074d772c\nhttps://github.com/yacan8/blog/issues/30\nhttps://juejin.im/post/6890810591968477191\nhttps://juejin.im/post/6844903959241424910\n")])]),v._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[v._v("1")]),e("br"),e("span",{staticClass:"line-number"},[v._v("2")]),e("br"),e("span",{staticClass:"line-number"},[v._v("3")]),e("br"),e("span",{staticClass:"line-number"},[v._v("4")]),e("br"),e("span",{staticClass:"line-number"},[v._v("5")]),e("br"),e("span",{staticClass:"line-number"},[v._v("6")]),e("br")])])])}),[],!1,null,null,null);e.default=s.exports}}]);